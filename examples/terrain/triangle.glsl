#version 300 es\nprecision highp float;\n#define GLSLIFY 1\n// for some reason `require` only works at top level\n// common functions and utilities\n// CGA3.glsl\nconst int Idx_CGA3_scalar = 0;\nconst int Idx_CGA3_e1 = 1;\nconst int Idx_CGA3_e2 = 2;\nconst int Idx_CGA3_e3 = 3;\nconst int Idx_CGA3_e4 = 4;\nconst int Idx_CGA3_e5 = 5;\nconst int Idx_CGA3_e12 = 6;\nconst int Idx_CGA3_e13 = 7;\nconst int Idx_CGA3_e14 = 8;\nconst int Idx_CGA3_e15 = 9;\nconst int Idx_CGA3_e23 = 10;\nconst int Idx_CGA3_e24 = 11;\nconst int Idx_CGA3_e25 = 12;\nconst int Idx_CGA3_e34 = 13;\nconst int Idx_CGA3_e35 = 14;\nconst int Idx_CGA3_e45 = 15;\nconst int Idx_CGA3_e123 = 16;\nconst int Idx_CGA3_e124 = 17;\nconst int Idx_CGA3_e125 = 18;\nconst int Idx_CGA3_e134 = 19;\nconst int Idx_CGA3_e135 = 20;\nconst int Idx_CGA3_e145 = 21;\nconst int Idx_CGA3_e234 = 22;\nconst int Idx_CGA3_e235 = 23;\nconst int Idx_CGA3_e245 = 24;\nconst int Idx_CGA3_e345 = 25;\nconst int Idx_CGA3_e1234 = 26;\nconst int Idx_CGA3_e1235 = 27;\nconst int Idx_CGA3_e1245 = 28;\nconst int Idx_CGA3_e1345 = 29;\nconst int Idx_CGA3_e2345 = 30;\nconst int Idx_CGA3_e12345 = 31;\n\nstruct CGA3 {\n    float scalar;\n    float e1;\n    float e2;\n    float e3;\n    float e4;\n    float e5;\n    float e12;\n    float e13;\n    float e14;\n    float e15;\n    float e23;\n    float e24;\n    float e25;\n    float e34;\n    float e35;\n    float e45;\n    float e123;\n    float e124;\n    float e125;\n    float e134;\n    float e135;\n    float e145;\n    float e234;\n    float e235;\n    float e245;\n    float e345;\n    float e1234;\n    float e1235;\n    float e1245;\n    float e1345;\n    float e2345;\n    float e12345;\n};\n\nCGA3 fromArray(float X[32]){\n    return CGA3(X[0], X[1], X[2], X[3], X[4], X[5], X[6], X[7], X[8], X[9], X[10], X[11], X[12], X[13], X[14], X[15], X[16], X[17], X[18], X[19], X[20], X[21], X[22], X[23], X[24], X[25], X[26], X[27], X[28], X[29], X[30], X[31]);\n}\n\nvoid toArray(CGA3 X, inout float X_ary[32]){\n    X_ary[0] = X.scalar;\n    X_ary[1] = X.e1;\n    X_ary[2] = X.e2;\n    X_ary[3] = X.e3;\n    X_ary[4] = X.e4;\n    X_ary[5] = X.e5;\n    X_ary[6] = X.e12;\n    X_ary[7] = X.e13;\n    X_ary[8] = X.e14;\n    X_ary[9] = X.e15;\n    X_ary[10] = X.e23;\n    X_ary[11] = X.e24;\n    X_ary[12] = X.e25;\n    X_ary[13] = X.e34;\n    X_ary[14] = X.e35;\n    X_ary[15] = X.e45;\n    X_ary[16] = X.e123;\n    X_ary[17] = X.e124;\n    X_ary[18] = X.e125;\n    X_ary[19] = X.e134;\n    X_ary[20] = X.e135;\n    X_ary[21] = X.e145;\n    X_ary[22] = X.e234;\n    X_ary[23] = X.e235;\n    X_ary[24] = X.e245;\n    X_ary[25] = X.e345;\n    X_ary[26] = X.e1234;\n    X_ary[27] = X.e1235;\n    X_ary[28] = X.e1245;\n    X_ary[29] = X.e1345;\n    X_ary[30] = X.e2345;\n    X_ary[31] = X.e12345;\n}\n\nvoid zero(inout float X[32]){\n    X[0] = 0.0;\n    X[1] = 0.0;\n    X[2] = 0.0;\n    X[3] = 0.0;\n    X[4] = 0.0;\n    X[5] = 0.0;\n    X[6] = 0.0;\n    X[7] = 0.0;\n    X[8] = 0.0;\n    X[9] = 0.0;\n    X[10] = 0.0;\n    X[11] = 0.0;\n    X[12] = 0.0;\n    X[13] = 0.0;\n    X[14] = 0.0;\n    X[15] = 0.0;\n    X[16] = 0.0;\n    X[17] = 0.0;\n    X[18] = 0.0;\n    X[19] = 0.0;\n    X[20] = 0.0;\n    X[21] = 0.0;\n    X[22] = 0.0;\n    X[23] = 0.0;\n    X[24] = 0.0;\n    X[25] = 0.0;\n    X[26] = 0.0;\n    X[27] = 0.0;\n    X[28] = 0.0;\n    X[29] = 0.0;\n    X[30] = 0.0;\n    X[31] = 0.0;\n}\n\nCGA3 add(CGA3 X, CGA3 Y){\n    return CGA3(X.scalar + Y.scalar, X.e1 + Y.e1, X.e2 + Y.e2, X.e3 + Y.e3, X.e4 + Y.e4, X.e5 + Y.e5, X.e12 + Y.e12, X.e13 + Y.e13, X.e14 + Y.e14, X.e15 + Y.e15, X.e23 + Y.e23, X.e24 + Y.e24, X.e25 + Y.e25, X.e34 + Y.e34, X.e35 + Y.e35, X.e45 + Y.e45, X.e123 + Y.e123, X.e124 + Y.e124, X.e125 + Y.e125, X.e134 + Y.e134, X.e135 + Y.e135, X.e145 + Y.e145, X.e234 + Y.e234, X.e235 + Y.e235, X.e245 + Y.e245, X.e345 + Y.e345, X.e1234 + Y.e1234, X.e1235 + Y.e1235, X.e1245 + Y.e1245, X.e1345 + Y.e1345, X.e2345 + Y.e2345, X.e12345 + Y.e12345);\n}\n\nCGA3 add(CGA3 X, CGA3 Y, CGA3 Z){\n    return add(add(X, Y), Z);\n}\n\nCGA3 add(CGA3 X, CGA3 Y, CGA3 Z, CGA3 P){\n    return add(add(add(X, Y), Z), P);\n}\n\n#define ONE_CGA3 CGA3(1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)\n\nCGA3 mul(float a, CGA3 X){\n    return CGA3(X.scalar*a, X.e1*a, X.e2*a, X.e3*a, X.e4*a, X.e5*a, X.e12*a, X.e13*a, X.e14*a, X.e15*a, X.e23*a, X.e24*a, X.e25*a, X.e34*a, X.e35*a, X.e45*a, X.e123*a, X.e124*a, X.e125*a, X.e134*a, X.e135*a, X.e145*a, X.e234*a, X.e235*a, X.e245*a, X.e345*a, X.e1234*a, X.e1235*a, X.e1245*a, X.e1345*a, X.e2345*a, X.e12345*a);\n}\n\nCGA3 sub(CGA3 X, CGA3 Y){\n    return CGA3(X.scalar - Y.scalar, X.e1 - Y.e1, X.e2 - Y.e2, X.e3 - Y.e3, X.e4 - Y.e4, X.e5 - Y.e5, X.e12 - Y.e12, X.e13 - Y.e13, X.e14 - Y.e14, X.e15 - Y.e15, X.e23 - Y.e23, X.e24 - Y.e24, X.e25 - Y.e25, X.e34 - Y.e34, X.e35 - Y.e35, X.e45 - Y.e45, X.e123 - Y.e123, X.e124 - Y.e124, X.e125 - Y.e125, X.e134 - Y.e134, X.e135 - Y.e135, X.e145 - Y.e145, X.e234 - Y.e234, X.e235 - Y.e235, X.e245 - Y.e245, X.e345 - Y.e345, X.e1234 - Y.e1234, X.e1235 - Y.e1235, X.e1245 - Y.e1245, X.e1345 - Y.e1345, X.e2345 - Y.e2345, X.e12345 - Y.e12345);\n}\n\n#define ZERO_CGA3 CGA3(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)\n\nCGA3 mul(int a, CGA3 X){\n    return mul(float(a), X);\n}\n\nCGA3 mul(CGA3 X, CGA3 Y){\n    return CGA3(X.e1*Y.e1 - X.e12*Y.e12 - X.e123*Y.e123 + X.e1234*Y.e1234 - X.e12345*Y.e12345 - X.e1235*Y.e1235 - X.e124*Y.e124 - X.e1245*Y.e1245 + X.e125*Y.e125 - X.e13*Y.e13 - X.e134*Y.e134 - X.e1345*Y.e1345 + X.e135*Y.e135 - X.e14*Y.e14 + X.e145*Y.e145 + X.e15*Y.e15 + X.e2*Y.e2 - X.e23*Y.e23 - X.e234*Y.e234 - X.e2345*Y.e2345 + X.e235*Y.e235 - X.e24*Y.e24 + X.e245*Y.e245 + X.e25*Y.e25 + X.e3*Y.e3 - X.e34*Y.e34 + X.e345*Y.e345 + X.e35*Y.e35 + X.e4*Y.e4 + X.e45*Y.e45 - X.e5*Y.e5 + X.scalar*Y.scalar, X.e1*Y.scalar + X.e12*Y.e2 - X.e123*Y.e23 - X.e1234*Y.e234 - X.e12345*Y.e2345 + X.e1235*Y.e235 - X.e124*Y.e24 + X.e1245*Y.e245 + X.e125*Y.e25 + X.e13*Y.e3 - X.e134*Y.e34 + X.e1345*Y.e345 + X.e135*Y.e35 + X.e14*Y.e4 + X.e145*Y.e45 - X.e15*Y.e5 - X.e2*Y.e12 - X.e23*Y.e123 + X.e234*Y.e1234 - X.e2345*Y.e12345 - X.e235*Y.e1235 - X.e24*Y.e124 - X.e245*Y.e1245 + X.e25*Y.e125 - X.e3*Y.e13 - X.e34*Y.e134 - X.e345*Y.e1345 + X.e35*Y.e135 - X.e4*Y.e14 + X.e45*Y.e145 + X.e5*Y.e15 + X.scalar*Y.e1, X.e1*Y.e12 - X.e12*Y.e1 + X.e123*Y.e13 + X.e1234*Y.e134 + X.e12345*Y.e1345 - X.e1235*Y.e135 + X.e124*Y.e14 - X.e1245*Y.e145 - X.e125*Y.e15 + X.e13*Y.e123 - X.e134*Y.e1234 + X.e1345*Y.e12345 + X.e135*Y.e1235 + X.e14*Y.e124 + X.e145*Y.e1245 - X.e15*Y.e125 + X.e2*Y.scalar + X.e23*Y.e3 - X.e234*Y.e34 + X.e2345*Y.e345 + X.e235*Y.e35 + X.e24*Y.e4 + X.e245*Y.e45 - X.e25*Y.e5 - X.e3*Y.e23 - X.e34*Y.e234 - X.e345*Y.e2345 + X.e35*Y.e235 - X.e4*Y.e24 + X.e45*Y.e245 + X.e5*Y.e25 + X.scalar*Y.e2, X.e1*Y.e13 - X.e12*Y.e123 - X.e123*Y.e12 - X.e1234*Y.e124 - X.e12345*Y.e1245 + X.e1235*Y.e125 + X.e124*Y.e1234 - X.e1245*Y.e12345 - X.e125*Y.e1235 - X.e13*Y.e1 + X.e134*Y.e14 - X.e1345*Y.e145 - X.e135*Y.e15 + X.e14*Y.e134 + X.e145*Y.e1345 - X.e15*Y.e135 + X.e2*Y.e23 - X.e23*Y.e2 + X.e234*Y.e24 - X.e2345*Y.e245 - X.e235*Y.e25 + X.e24*Y.e234 + X.e245*Y.e2345 - X.e25*Y.e235 + X.e3*Y.scalar + X.e34*Y.e4 + X.e345*Y.e45 - X.e35*Y.e5 - X.e4*Y.e34 + X.e45*Y.e345 + X.e5*Y.e35 + X.scalar*Y.e3, X.e1*Y.e14 - X.e12*Y.e124 - X.e123*Y.e1234 + X.e1234*Y.e123 + X.e12345*Y.e1235 + X.e1235*Y.e12345 - X.e124*Y.e12 + X.e1245*Y.e125 - X.e125*Y.e1245 - X.e13*Y.e134 - X.e134*Y.e13 + X.e1345*Y.e135 - X.e135*Y.e1345 - X.e14*Y.e1 - X.e145*Y.e15 - X.e15*Y.e145 + X.e2*Y.e24 - X.e23*Y.e234 - X.e234*Y.e23 + X.e2345*Y.e235 - X.e235*Y.e2345 - X.e24*Y.e2 - X.e245*Y.e25 - X.e25*Y.e245 + X.e3*Y.e34 - X.e34*Y.e3 - X.e345*Y.e35 - X.e35*Y.e345 + X.e4*Y.scalar - X.e45*Y.e5 + X.e5*Y.e45 + X.scalar*Y.e4, X.e1*Y.e15 - X.e12*Y.e125 - X.e123*Y.e1235 + X.e1234*Y.e12345 + X.e12345*Y.e1234 + X.e1235*Y.e123 - X.e124*Y.e1245 + X.e1245*Y.e124 - X.e125*Y.e12 - X.e13*Y.e135 - X.e134*Y.e1345 + X.e1345*Y.e134 - X.e135*Y.e13 - X.e14*Y.e145 - X.e145*Y.e14 - X.e15*Y.e1 + X.e2*Y.e25 - X.e23*Y.e235 - X.e234*Y.e2345 + X.e2345*Y.e234 - X.e235*Y.e23 - X.e24*Y.e245 - X.e245*Y.e24 - X.e25*Y.e2 + X.e3*Y.e35 - X.e34*Y.e345 - X.e345*Y.e34 - X.e35*Y.e3 + X.e4*Y.e45 - X.e45*Y.e4 + X.e5*Y.scalar + X.scalar*Y.e5, X.e1*Y.e2 + X.e12*Y.scalar + X.e123*Y.e3 - X.e1234*Y.e34 + X.e12345*Y.e345 + X.e1235*Y.e35 + X.e124*Y.e4 + X.e1245*Y.e45 - X.e125*Y.e5 - X.e13*Y.e23 - X.e134*Y.e234 - X.e1345*Y.e2345 + X.e135*Y.e235 - X.e14*Y.e24 + X.e145*Y.e245 + X.e15*Y.e25 - X.e2*Y.e1 + X.e23*Y.e13 + X.e234*Y.e134 + X.e2345*Y.e1345 - X.e235*Y.e135 + X.e24*Y.e14 - X.e245*Y.e145 - X.e25*Y.e15 + X.e3*Y.e123 - X.e34*Y.e1234 + X.e345*Y.e12345 + X.e35*Y.e1235 + X.e4*Y.e124 + X.e45*Y.e1245 - X.e5*Y.e125 + X.scalar*Y.e12, X.e1*Y.e3 + X.e12*Y.e23 - X.e123*Y.e2 + X.e1234*Y.e24 - X.e12345*Y.e245 - X.e1235*Y.e25 + X.e124*Y.e234 + X.e1245*Y.e2345 - X.e125*Y.e235 + X.e13*Y.scalar + X.e134*Y.e4 + X.e1345*Y.e45 - X.e135*Y.e5 - X.e14*Y.e34 + X.e145*Y.e345 + X.e15*Y.e35 - X.e2*Y.e123 - X.e23*Y.e12 - X.e234*Y.e124 - X.e2345*Y.e1245 + X.e235*Y.e125 + X.e24*Y.e1234 - X.e245*Y.e12345 - X.e25*Y.e1235 - X.e3*Y.e1 + X.e34*Y.e14 - X.e345*Y.e145 - X.e35*Y.e15 + X.e4*Y.e134 + X.e45*Y.e1345 - X.e5*Y.e135 + X.scalar*Y.e13, X.e1*Y.e4 + X.e12*Y.e24 - X.e123*Y.e234 - X.e1234*Y.e23 + X.e12345*Y.e235 - X.e1235*Y.e2345 - X.e124*Y.e2 - X.e1245*Y.e25 - X.e125*Y.e245 + X.e13*Y.e34 - X.e134*Y.e3 - X.e1345*Y.e35 - X.e135*Y.e345 + X.e14*Y.scalar - X.e145*Y.e5 + X.e15*Y.e45 - X.e2*Y.e124 - X.e23*Y.e1234 + X.e234*Y.e123 + X.e2345*Y.e1235 + X.e235*Y.e12345 - X.e24*Y.e12 + X.e245*Y.e125 - X.e25*Y.e1245 - X.e3*Y.e134 - X.e34*Y.e13 + X.e345*Y.e135 - X.e35*Y.e1345 - X.e4*Y.e1 - X.e45*Y.e15 - X.e5*Y.e145 + X.scalar*Y.e14, X.e1*Y.e5 + X.e12*Y.e25 - X.e123*Y.e235 - X.e1234*Y.e2345 + X.e12345*Y.e234 - X.e1235*Y.e23 - X.e124*Y.e245 - X.e1245*Y.e24 - X.e125*Y.e2 + X.e13*Y.e35 - X.e134*Y.e345 - X.e1345*Y.e34 - X.e135*Y.e3 + X.e14*Y.e45 - X.e145*Y.e4 + X.e15*Y.scalar - X.e2*Y.e125 - X.e23*Y.e1235 + X.e234*Y.e12345 + X.e2345*Y.e1234 + X.e235*Y.e123 - X.e24*Y.e1245 + X.e245*Y.e124 - X.e25*Y.e12 - X.e3*Y.e135 - X.e34*Y.e1345 + X.e345*Y.e134 - X.e35*Y.e13 - X.e4*Y.e145 - X.e45*Y.e14 - X.e5*Y.e1 + X.scalar*Y.e15, X.e1*Y.e123 - X.e12*Y.e13 + X.e123*Y.e1 - X.e1234*Y.e14 + X.e12345*Y.e145 + X.e1235*Y.e15 - X.e124*Y.e134 - X.e1245*Y.e1345 + X.e125*Y.e135 + X.e13*Y.e12 + X.e134*Y.e124 + X.e1345*Y.e1245 - X.e135*Y.e125 - X.e14*Y.e1234 + X.e145*Y.e12345 + X.e15*Y.e1235 + X.e2*Y.e3 + X.e23*Y.scalar + X.e234*Y.e4 + X.e2345*Y.e45 - X.e235*Y.e5 - X.e24*Y.e34 + X.e245*Y.e345 + X.e25*Y.e35 - X.e3*Y.e2 + X.e34*Y.e24 - X.e345*Y.e245 - X.e35*Y.e25 + X.e4*Y.e234 + X.e45*Y.e2345 - X.e5*Y.e235 + X.scalar*Y.e23, X.e1*Y.e124 - X.e12*Y.e14 + X.e123*Y.e134 + X.e1234*Y.e13 - X.e12345*Y.e135 + X.e1235*Y.e1345 + X.e124*Y.e1 + X.e1245*Y.e15 + X.e125*Y.e145 + X.e13*Y.e1234 - X.e134*Y.e123 - X.e1345*Y.e1235 - X.e135*Y.e12345 + X.e14*Y.e12 - X.e145*Y.e125 + X.e15*Y.e1245 + X.e2*Y.e4 + X.e23*Y.e34 - X.e234*Y.e3 - X.e2345*Y.e35 - X.e235*Y.e345 + X.e24*Y.scalar - X.e245*Y.e5 + X.e25*Y.e45 - X.e3*Y.e234 - X.e34*Y.e23 + X.e345*Y.e235 - X.e35*Y.e2345 - X.e4*Y.e2 - X.e45*Y.e25 - X.e5*Y.e245 + X.scalar*Y.e24, X.e1*Y.e125 - X.e12*Y.e15 + X.e123*Y.e135 + X.e1234*Y.e1345 - X.e12345*Y.e134 + X.e1235*Y.e13 + X.e124*Y.e145 + X.e1245*Y.e14 + X.e125*Y.e1 + X.e13*Y.e1235 - X.e134*Y.e12345 - X.e1345*Y.e1234 - X.e135*Y.e123 + X.e14*Y.e1245 - X.e145*Y.e124 + X.e15*Y.e12 + X.e2*Y.e5 + X.e23*Y.e35 - X.e234*Y.e345 - X.e2345*Y.e34 - X.e235*Y.e3 + X.e24*Y.e45 - X.e245*Y.e4 + X.e25*Y.scalar - X.e3*Y.e235 - X.e34*Y.e2345 + X.e345*Y.e234 - X.e35*Y.e23 - X.e4*Y.e245 - X.e45*Y.e24 - X.e5*Y.e2 + X.scalar*Y.e25, X.e1*Y.e134 - X.e12*Y.e1234 - X.e123*Y.e124 - X.e1234*Y.e12 + X.e12345*Y.e125 - X.e1235*Y.e1245 + X.e124*Y.e123 + X.e1245*Y.e1235 + X.e125*Y.e12345 - X.e13*Y.e14 + X.e134*Y.e1 + X.e1345*Y.e15 + X.e135*Y.e145 + X.e14*Y.e13 - X.e145*Y.e135 + X.e15*Y.e1345 + X.e2*Y.e234 - X.e23*Y.e24 + X.e234*Y.e2 + X.e2345*Y.e25 + X.e235*Y.e245 + X.e24*Y.e23 - X.e245*Y.e235 + X.e25*Y.e2345 + X.e3*Y.e4 + X.e34*Y.scalar - X.e345*Y.e5 + X.e35*Y.e45 - X.e4*Y.e3 - X.e45*Y.e35 - X.e5*Y.e345 + X.scalar*Y.e34, X.e1*Y.e135 - X.e12*Y.e1235 - X.e123*Y.e125 - X.e1234*Y.e1245 + X.e12345*Y.e124 - X.e1235*Y.e12 + X.e124*Y.e12345 + X.e1245*Y.e1234 + X.e125*Y.e123 - X.e13*Y.e15 + X.e134*Y.e145 + X.e1345*Y.e14 + X.e135*Y.e1 + X.e14*Y.e1345 - X.e145*Y.e134 + X.e15*Y.e13 + X.e2*Y.e235 - X.e23*Y.e25 + X.e234*Y.e245 + X.e2345*Y.e24 + X.e235*Y.e2 + X.e24*Y.e2345 - X.e245*Y.e234 + X.e25*Y.e23 + X.e3*Y.e5 + X.e34*Y.e45 - X.e345*Y.e4 + X.e35*Y.scalar - X.e4*Y.e345 - X.e45*Y.e34 - X.e5*Y.e3 + X.scalar*Y.e35, X.e1*Y.e145 - X.e12*Y.e1245 - X.e123*Y.e12345 + X.e1234*Y.e1235 - X.e12345*Y.e123 - X.e1235*Y.e1234 - X.e124*Y.e125 - X.e1245*Y.e12 + X.e125*Y.e124 - X.e13*Y.e1345 - X.e134*Y.e135 - X.e1345*Y.e13 + X.e135*Y.e134 - X.e14*Y.e15 + X.e145*Y.e1 + X.e15*Y.e14 + X.e2*Y.e245 - X.e23*Y.e2345 - X.e234*Y.e235 - X.e2345*Y.e23 + X.e235*Y.e234 - X.e24*Y.e25 + X.e245*Y.e2 + X.e25*Y.e24 + X.e3*Y.e345 - X.e34*Y.e35 + X.e345*Y.e3 + X.e35*Y.e34 + X.e4*Y.e5 + X.e45*Y.scalar - X.e5*Y.e4 + X.scalar*Y.e45, X.e1*Y.e23 + X.e12*Y.e3 + X.e123*Y.scalar + X.e1234*Y.e4 + X.e12345*Y.e45 - X.e1235*Y.e5 - X.e124*Y.e34 + X.e1245*Y.e345 + X.e125*Y.e35 - X.e13*Y.e2 + X.e134*Y.e24 - X.e1345*Y.e245 - X.e135*Y.e25 + X.e14*Y.e234 + X.e145*Y.e2345 - X.e15*Y.e235 - X.e2*Y.e13 + X.e23*Y.e1 - X.e234*Y.e14 + X.e2345*Y.e145 + X.e235*Y.e15 - X.e24*Y.e134 - X.e245*Y.e1345 + X.e25*Y.e135 + X.e3*Y.e12 + X.e34*Y.e124 + X.e345*Y.e1245 - X.e35*Y.e125 - X.e4*Y.e1234 + X.e45*Y.e12345 + X.e5*Y.e1235 + X.scalar*Y.e123, X.e1*Y.e24 + X.e12*Y.e4 + X.e123*Y.e34 - X.e1234*Y.e3 - X.e12345*Y.e35 - X.e1235*Y.e345 + X.e124*Y.scalar - X.e1245*Y.e5 + X.e125*Y.e45 - X.e13*Y.e234 - X.e134*Y.e23 + X.e1345*Y.e235 - X.e135*Y.e2345 - X.e14*Y.e2 - X.e145*Y.e25 - X.e15*Y.e245 - X.e2*Y.e14 + X.e23*Y.e134 + X.e234*Y.e13 - X.e2345*Y.e135 + X.e235*Y.e1345 + X.e24*Y.e1 + X.e245*Y.e15 + X.e25*Y.e145 + X.e3*Y.e1234 - X.e34*Y.e123 - X.e345*Y.e1235 - X.e35*Y.e12345 + X.e4*Y.e12 - X.e45*Y.e125 + X.e5*Y.e1245 + X.scalar*Y.e124, X.e1*Y.e25 + X.e12*Y.e5 + X.e123*Y.e35 - X.e1234*Y.e345 - X.e12345*Y.e34 - X.e1235*Y.e3 + X.e124*Y.e45 - X.e1245*Y.e4 + X.e125*Y.scalar - X.e13*Y.e235 - X.e134*Y.e2345 + X.e1345*Y.e234 - X.e135*Y.e23 - X.e14*Y.e245 - X.e145*Y.e24 - X.e15*Y.e2 - X.e2*Y.e15 + X.e23*Y.e135 + X.e234*Y.e1345 - X.e2345*Y.e134 + X.e235*Y.e13 + X.e24*Y.e145 + X.e245*Y.e14 + X.e25*Y.e1 + X.e3*Y.e1235 - X.e34*Y.e12345 - X.e345*Y.e1234 - X.e35*Y.e123 + X.e4*Y.e1245 - X.e45*Y.e124 + X.e5*Y.e12 + X.scalar*Y.e125, X.e1*Y.e34 + X.e12*Y.e234 - X.e123*Y.e24 + X.e1234*Y.e2 + X.e12345*Y.e25 + X.e1235*Y.e245 + X.e124*Y.e23 - X.e1245*Y.e235 + X.e125*Y.e2345 + X.e13*Y.e4 + X.e134*Y.scalar - X.e1345*Y.e5 + X.e135*Y.e45 - X.e14*Y.e3 - X.e145*Y.e35 - X.e15*Y.e345 - X.e2*Y.e1234 - X.e23*Y.e124 - X.e234*Y.e12 + X.e2345*Y.e125 - X.e235*Y.e1245 + X.e24*Y.e123 + X.e245*Y.e1235 + X.e25*Y.e12345 - X.e3*Y.e14 + X.e34*Y.e1 + X.e345*Y.e15 + X.e35*Y.e145 + X.e4*Y.e13 - X.e45*Y.e135 + X.e5*Y.e1345 + X.scalar*Y.e134, X.e1*Y.e35 + X.e12*Y.e235 - X.e123*Y.e25 + X.e1234*Y.e245 + X.e12345*Y.e24 + X.e1235*Y.e2 + X.e124*Y.e2345 - X.e1245*Y.e234 + X.e125*Y.e23 + X.e13*Y.e5 + X.e134*Y.e45 - X.e1345*Y.e4 + X.e135*Y.scalar - X.e14*Y.e345 - X.e145*Y.e34 - X.e15*Y.e3 - X.e2*Y.e1235 - X.e23*Y.e125 - X.e234*Y.e1245 + X.e2345*Y.e124 - X.e235*Y.e12 + X.e24*Y.e12345 + X.e245*Y.e1234 + X.e25*Y.e123 - X.e3*Y.e15 + X.e34*Y.e145 + X.e345*Y.e14 + X.e35*Y.e1 + X.e4*Y.e1345 - X.e45*Y.e134 + X.e5*Y.e13 + X.scalar*Y.e135, X.e1*Y.e45 + X.e12*Y.e245 - X.e123*Y.e2345 - X.e1234*Y.e235 - X.e12345*Y.e23 + X.e1235*Y.e234 - X.e124*Y.e25 + X.e1245*Y.e2 + X.e125*Y.e24 + X.e13*Y.e345 - X.e134*Y.e35 + X.e1345*Y.e3 + X.e135*Y.e34 + X.e14*Y.e5 + X.e145*Y.scalar - X.e15*Y.e4 - X.e2*Y.e1245 - X.e23*Y.e12345 + X.e234*Y.e1235 - X.e2345*Y.e123 - X.e235*Y.e1234 - X.e24*Y.e125 - X.e245*Y.e12 + X.e25*Y.e124 - X.e3*Y.e1345 - X.e34*Y.e135 - X.e345*Y.e13 + X.e35*Y.e134 - X.e4*Y.e15 + X.e45*Y.e1 + X.e5*Y.e14 + X.scalar*Y.e145, X.e1*Y.e1234 - X.e12*Y.e134 + X.e123*Y.e14 - X.e1234*Y.e1 - X.e12345*Y.e15 - X.e1235*Y.e145 - X.e124*Y.e13 + X.e1245*Y.e135 - X.e125*Y.e1345 + X.e13*Y.e124 + X.e134*Y.e12 - X.e1345*Y.e125 + X.e135*Y.e1245 - X.e14*Y.e123 - X.e145*Y.e1235 - X.e15*Y.e12345 + X.e2*Y.e34 + X.e23*Y.e4 + X.e234*Y.scalar - X.e2345*Y.e5 + X.e235*Y.e45 - X.e24*Y.e3 - X.e245*Y.e35 - X.e25*Y.e345 - X.e3*Y.e24 + X.e34*Y.e2 + X.e345*Y.e25 + X.e35*Y.e245 + X.e4*Y.e23 - X.e45*Y.e235 + X.e5*Y.e2345 + X.scalar*Y.e234, X.e1*Y.e1235 - X.e12*Y.e135 + X.e123*Y.e15 - X.e1234*Y.e145 - X.e12345*Y.e14 - X.e1235*Y.e1 - X.e124*Y.e1345 + X.e1245*Y.e134 - X.e125*Y.e13 + X.e13*Y.e125 + X.e134*Y.e1245 - X.e1345*Y.e124 + X.e135*Y.e12 - X.e14*Y.e12345 - X.e145*Y.e1234 - X.e15*Y.e123 + X.e2*Y.e35 + X.e23*Y.e5 + X.e234*Y.e45 - X.e2345*Y.e4 + X.e235*Y.scalar - X.e24*Y.e345 - X.e245*Y.e34 - X.e25*Y.e3 - X.e3*Y.e25 + X.e34*Y.e245 + X.e345*Y.e24 + X.e35*Y.e2 + X.e4*Y.e2345 - X.e45*Y.e234 + X.e5*Y.e23 + X.scalar*Y.e235, X.e1*Y.e1245 - X.e12*Y.e145 + X.e123*Y.e1345 + X.e1234*Y.e135 + X.e12345*Y.e13 - X.e1235*Y.e134 + X.e124*Y.e15 - X.e1245*Y.e1 - X.e125*Y.e14 + X.e13*Y.e12345 - X.e134*Y.e1235 + X.e1345*Y.e123 + X.e135*Y.e1234 + X.e14*Y.e125 + X.e145*Y.e12 - X.e15*Y.e124 + X.e2*Y.e45 + X.e23*Y.e345 - X.e234*Y.e35 + X.e2345*Y.e3 + X.e235*Y.e34 + X.e24*Y.e5 + X.e245*Y.scalar - X.e25*Y.e4 - X.e3*Y.e2345 - X.e34*Y.e235 - X.e345*Y.e23 + X.e35*Y.e234 - X.e4*Y.e25 + X.e45*Y.e2 + X.e5*Y.e24 + X.scalar*Y.e245, X.e1*Y.e1345 - X.e12*Y.e12345 - X.e123*Y.e1245 - X.e1234*Y.e125 - X.e12345*Y.e12 + X.e1235*Y.e124 + X.e124*Y.e1235 - X.e1245*Y.e123 - X.e125*Y.e1234 - X.e13*Y.e145 + X.e134*Y.e15 - X.e1345*Y.e1 - X.e135*Y.e14 + X.e14*Y.e135 + X.e145*Y.e13 - X.e15*Y.e134 + X.e2*Y.e2345 - X.e23*Y.e245 + X.e234*Y.e25 - X.e2345*Y.e2 - X.e235*Y.e24 + X.e24*Y.e235 + X.e245*Y.e23 - X.e25*Y.e234 + X.e3*Y.e45 + X.e34*Y.e5 + X.e345*Y.scalar - X.e35*Y.e4 - X.e4*Y.e35 + X.e45*Y.e3 + X.e5*Y.e34 + X.scalar*Y.e345, X.e1*Y.e234 + X.e12*Y.e34 + X.e123*Y.e4 + X.e1234*Y.scalar - X.e12345*Y.e5 + X.e1235*Y.e45 - X.e124*Y.e3 - X.e1245*Y.e35 - X.e125*Y.e345 - X.e13*Y.e24 + X.e134*Y.e2 + X.e1345*Y.e25 + X.e135*Y.e245 + X.e14*Y.e23 - X.e145*Y.e235 + X.e15*Y.e2345 - X.e2*Y.e134 + X.e23*Y.e14 - X.e234*Y.e1 - X.e2345*Y.e15 - X.e235*Y.e145 - X.e24*Y.e13 + X.e245*Y.e135 - X.e25*Y.e1345 + X.e3*Y.e124 + X.e34*Y.e12 - X.e345*Y.e125 + X.e35*Y.e1245 - X.e4*Y.e123 - X.e45*Y.e1235 - X.e5*Y.e12345 + X.scalar*Y.e1234, X.e1*Y.e235 + X.e12*Y.e35 + X.e123*Y.e5 + X.e1234*Y.e45 - X.e12345*Y.e4 + X.e1235*Y.scalar - X.e124*Y.e345 - X.e1245*Y.e34 - X.e125*Y.e3 - X.e13*Y.e25 + X.e134*Y.e245 + X.e1345*Y.e24 + X.e135*Y.e2 + X.e14*Y.e2345 - X.e145*Y.e234 + X.e15*Y.e23 - X.e2*Y.e135 + X.e23*Y.e15 - X.e234*Y.e145 - X.e2345*Y.e14 - X.e235*Y.e1 - X.e24*Y.e1345 + X.e245*Y.e134 - X.e25*Y.e13 + X.e3*Y.e125 + X.e34*Y.e1245 - X.e345*Y.e124 + X.e35*Y.e12 - X.e4*Y.e12345 - X.e45*Y.e1234 - X.e5*Y.e123 + X.scalar*Y.e1235, X.e1*Y.e245 + X.e12*Y.e45 + X.e123*Y.e345 - X.e1234*Y.e35 + X.e12345*Y.e3 + X.e1235*Y.e34 + X.e124*Y.e5 + X.e1245*Y.scalar - X.e125*Y.e4 - X.e13*Y.e2345 - X.e134*Y.e235 - X.e1345*Y.e23 + X.e135*Y.e234 - X.e14*Y.e25 + X.e145*Y.e2 + X.e15*Y.e24 - X.e2*Y.e145 + X.e23*Y.e1345 + X.e234*Y.e135 + X.e2345*Y.e13 - X.e235*Y.e134 + X.e24*Y.e15 - X.e245*Y.e1 - X.e25*Y.e14 + X.e3*Y.e12345 - X.e34*Y.e1235 + X.e345*Y.e123 + X.e35*Y.e1234 + X.e4*Y.e125 + X.e45*Y.e12 - X.e5*Y.e124 + X.scalar*Y.e1245, X.e1*Y.e345 + X.e12*Y.e2345 - X.e123*Y.e245 + X.e1234*Y.e25 - X.e12345*Y.e2 - X.e1235*Y.e24 + X.e124*Y.e235 + X.e1245*Y.e23 - X.e125*Y.e234 + X.e13*Y.e45 + X.e134*Y.e5 + X.e1345*Y.scalar - X.e135*Y.e4 - X.e14*Y.e35 + X.e145*Y.e3 + X.e15*Y.e34 - X.e2*Y.e12345 - X.e23*Y.e1245 - X.e234*Y.e125 - X.e2345*Y.e12 + X.e235*Y.e124 + X.e24*Y.e1235 - X.e245*Y.e123 - X.e25*Y.e1234 - X.e3*Y.e145 + X.e34*Y.e15 - X.e345*Y.e1 - X.e35*Y.e14 + X.e4*Y.e135 + X.e45*Y.e13 - X.e5*Y.e134 + X.scalar*Y.e1345, X.e1*Y.e12345 - X.e12*Y.e1345 + X.e123*Y.e145 - X.e1234*Y.e15 + X.e12345*Y.e1 + X.e1235*Y.e14 - X.e124*Y.e135 - X.e1245*Y.e13 + X.e125*Y.e134 + X.e13*Y.e1245 + X.e134*Y.e125 + X.e1345*Y.e12 - X.e135*Y.e124 - X.e14*Y.e1235 + X.e145*Y.e123 + X.e15*Y.e1234 + X.e2*Y.e345 + X.e23*Y.e45 + X.e234*Y.e5 + X.e2345*Y.scalar - X.e235*Y.e4 - X.e24*Y.e35 + X.e245*Y.e3 + X.e25*Y.e34 - X.e3*Y.e245 + X.e34*Y.e25 - X.e345*Y.e2 - X.e35*Y.e24 + X.e4*Y.e235 + X.e45*Y.e23 - X.e5*Y.e234 + X.scalar*Y.e2345, X.e1*Y.e2345 + X.e12*Y.e345 + X.e123*Y.e45 + X.e1234*Y.e5 + X.e12345*Y.scalar - X.e1235*Y.e4 - X.e124*Y.e35 + X.e1245*Y.e3 + X.e125*Y.e34 - X.e13*Y.e245 + X.e134*Y.e25 - X.e1345*Y.e2 - X.e135*Y.e24 + X.e14*Y.e235 + X.e145*Y.e23 - X.e15*Y.e234 - X.e2*Y.e1345 + X.e23*Y.e145 - X.e234*Y.e15 + X.e2345*Y.e1 + X.e235*Y.e14 - X.e24*Y.e135 - X.e245*Y.e13 + X.e25*Y.e134 + X.e3*Y.e1245 + X.e34*Y.e125 + X.e345*Y.e12 - X.e35*Y.e124 - X.e4*Y.e1235 + X.e45*Y.e123 + X.e5*Y.e1234 + X.scalar*Y.e12345);\n}\n\nCGA3 scalar_CGA3(float a){\n    return mul(a, ONE_CGA3);\n}\n\nCGA3 mul(CGA3 X, CGA3 Y, CGA3 Z){\n    return mul(mul(X, Y), Z);\n}\n\nCGA3 involve(CGA3 X){\n    return CGA3(X.scalar, -X.e1, -X.e2, -X.e3, -X.e4, -X.e5, X.e12, X.e13, X.e14, X.e15, X.e23, X.e24, X.e25, X.e34, X.e35, X.e45, -X.e123, -X.e124, -X.e125, -X.e134, -X.e135, -X.e145, -X.e234, -X.e235, -X.e245, -X.e345, X.e1234, X.e1235, X.e1245, X.e1345, X.e2345, -X.e12345);\n}\n\nCGA3 inner(CGA3 X, CGA3 Y){\n    return CGA3(X.e1*Y.e1 - X.e12*Y.e12 - X.e123*Y.e123 + X.e1234*Y.e1234 - X.e12345*Y.e12345 - X.e1235*Y.e1235 - X.e124*Y.e124 - X.e1245*Y.e1245 + X.e125*Y.e125 - X.e13*Y.e13 - X.e134*Y.e134 - X.e1345*Y.e1345 + X.e135*Y.e135 - X.e14*Y.e14 + X.e145*Y.e145 + X.e15*Y.e15 + X.e2*Y.e2 - X.e23*Y.e23 - X.e234*Y.e234 - X.e2345*Y.e2345 + X.e235*Y.e235 - X.e24*Y.e24 + X.e245*Y.e245 + X.e25*Y.e25 + X.e3*Y.e3 - X.e34*Y.e34 + X.e345*Y.e345 + X.e35*Y.e35 + X.e4*Y.e4 + X.e45*Y.e45 - X.e5*Y.e5, X.e12*Y.e2 - X.e123*Y.e23 - X.e1234*Y.e234 - X.e12345*Y.e2345 + X.e1235*Y.e235 - X.e124*Y.e24 + X.e1245*Y.e245 + X.e125*Y.e25 + X.e13*Y.e3 - X.e134*Y.e34 + X.e1345*Y.e345 + X.e135*Y.e35 + X.e14*Y.e4 + X.e145*Y.e45 - X.e15*Y.e5 - X.e2*Y.e12 - X.e23*Y.e123 + X.e234*Y.e1234 - X.e2345*Y.e12345 - X.e235*Y.e1235 - X.e24*Y.e124 - X.e245*Y.e1245 + X.e25*Y.e125 - X.e3*Y.e13 - X.e34*Y.e134 - X.e345*Y.e1345 + X.e35*Y.e135 - X.e4*Y.e14 + X.e45*Y.e145 + X.e5*Y.e15, X.e1*Y.e12 - X.e12*Y.e1 + X.e123*Y.e13 + X.e1234*Y.e134 + X.e12345*Y.e1345 - X.e1235*Y.e135 + X.e124*Y.e14 - X.e1245*Y.e145 - X.e125*Y.e15 + X.e13*Y.e123 - X.e134*Y.e1234 + X.e1345*Y.e12345 + X.e135*Y.e1235 + X.e14*Y.e124 + X.e145*Y.e1245 - X.e15*Y.e125 + X.e23*Y.e3 - X.e234*Y.e34 + X.e2345*Y.e345 + X.e235*Y.e35 + X.e24*Y.e4 + X.e245*Y.e45 - X.e25*Y.e5 - X.e3*Y.e23 - X.e34*Y.e234 - X.e345*Y.e2345 + X.e35*Y.e235 - X.e4*Y.e24 + X.e45*Y.e245 + X.e5*Y.e25, X.e1*Y.e13 - X.e12*Y.e123 - X.e123*Y.e12 - X.e1234*Y.e124 - X.e12345*Y.e1245 + X.e1235*Y.e125 + X.e124*Y.e1234 - X.e1245*Y.e12345 - X.e125*Y.e1235 - X.e13*Y.e1 + X.e134*Y.e14 - X.e1345*Y.e145 - X.e135*Y.e15 + X.e14*Y.e134 + X.e145*Y.e1345 - X.e15*Y.e135 + X.e2*Y.e23 - X.e23*Y.e2 + X.e234*Y.e24 - X.e2345*Y.e245 - X.e235*Y.e25 + X.e24*Y.e234 + X.e245*Y.e2345 - X.e25*Y.e235 + X.e34*Y.e4 + X.e345*Y.e45 - X.e35*Y.e5 - X.e4*Y.e34 + X.e45*Y.e345 + X.e5*Y.e35, X.e1*Y.e14 - X.e12*Y.e124 - X.e123*Y.e1234 + X.e1234*Y.e123 + X.e12345*Y.e1235 + X.e1235*Y.e12345 - X.e124*Y.e12 + X.e1245*Y.e125 - X.e125*Y.e1245 - X.e13*Y.e134 - X.e134*Y.e13 + X.e1345*Y.e135 - X.e135*Y.e1345 - X.e14*Y.e1 - X.e145*Y.e15 - X.e15*Y.e145 + X.e2*Y.e24 - X.e23*Y.e234 - X.e234*Y.e23 + X.e2345*Y.e235 - X.e235*Y.e2345 - X.e24*Y.e2 - X.e245*Y.e25 - X.e25*Y.e245 + X.e3*Y.e34 - X.e34*Y.e3 - X.e345*Y.e35 - X.e35*Y.e345 - X.e45*Y.e5 + X.e5*Y.e45, X.e1*Y.e15 - X.e12*Y.e125 - X.e123*Y.e1235 + X.e1234*Y.e12345 + X.e12345*Y.e1234 + X.e1235*Y.e123 - X.e124*Y.e1245 + X.e1245*Y.e124 - X.e125*Y.e12 - X.e13*Y.e135 - X.e134*Y.e1345 + X.e1345*Y.e134 - X.e135*Y.e13 - X.e14*Y.e145 - X.e145*Y.e14 - X.e15*Y.e1 + X.e2*Y.e25 - X.e23*Y.e235 - X.e234*Y.e2345 + X.e2345*Y.e234 - X.e235*Y.e23 - X.e24*Y.e245 - X.e245*Y.e24 - X.e25*Y.e2 + X.e3*Y.e35 - X.e34*Y.e345 - X.e345*Y.e34 - X.e35*Y.e3 + X.e4*Y.e45 - X.e45*Y.e4, X.e123*Y.e3 - X.e1234*Y.e34 + X.e12345*Y.e345 + X.e1235*Y.e35 + X.e124*Y.e4 + X.e1245*Y.e45 - X.e125*Y.e5 + X.e3*Y.e123 - X.e34*Y.e1234 + X.e345*Y.e12345 + X.e35*Y.e1235 + X.e4*Y.e124 + X.e45*Y.e1245 - X.e5*Y.e125, -X.e123*Y.e2 + X.e1234*Y.e24 - X.e12345*Y.e245 - X.e1235*Y.e25 + X.e134*Y.e4 + X.e1345*Y.e45 - X.e135*Y.e5 - X.e2*Y.e123 + X.e24*Y.e1234 - X.e245*Y.e12345 - X.e25*Y.e1235 + X.e4*Y.e134 + X.e45*Y.e1345 - X.e5*Y.e135, -X.e1234*Y.e23 + X.e12345*Y.e235 - X.e124*Y.e2 - X.e1245*Y.e25 - X.e134*Y.e3 - X.e1345*Y.e35 - X.e145*Y.e5 - X.e2*Y.e124 - X.e23*Y.e1234 + X.e235*Y.e12345 - X.e25*Y.e1245 - X.e3*Y.e134 - X.e35*Y.e1345 - X.e5*Y.e145, X.e12345*Y.e234 - X.e1235*Y.e23 - X.e1245*Y.e24 - X.e125*Y.e2 - X.e1345*Y.e34 - X.e135*Y.e3 - X.e145*Y.e4 - X.e2*Y.e125 - X.e23*Y.e1235 + X.e234*Y.e12345 - X.e24*Y.e1245 - X.e3*Y.e135 - X.e34*Y.e1345 - X.e4*Y.e145, X.e1*Y.e123 + X.e123*Y.e1 - X.e1234*Y.e14 + X.e12345*Y.e145 + X.e1235*Y.e15 - X.e14*Y.e1234 + X.e145*Y.e12345 + X.e15*Y.e1235 + X.e234*Y.e4 + X.e2345*Y.e45 - X.e235*Y.e5 + X.e4*Y.e234 + X.e45*Y.e2345 - X.e5*Y.e235, X.e1*Y.e124 + X.e1234*Y.e13 - X.e12345*Y.e135 + X.e124*Y.e1 + X.e1245*Y.e15 + X.e13*Y.e1234 - X.e135*Y.e12345 + X.e15*Y.e1245 - X.e234*Y.e3 - X.e2345*Y.e35 - X.e245*Y.e5 - X.e3*Y.e234 - X.e35*Y.e2345 - X.e5*Y.e245, X.e1*Y.e125 - X.e12345*Y.e134 + X.e1235*Y.e13 + X.e1245*Y.e14 + X.e125*Y.e1 + X.e13*Y.e1235 - X.e134*Y.e12345 + X.e14*Y.e1245 - X.e2345*Y.e34 - X.e235*Y.e3 - X.e245*Y.e4 - X.e3*Y.e235 - X.e34*Y.e2345 - X.e4*Y.e245, X.e1*Y.e134 - X.e12*Y.e1234 - X.e1234*Y.e12 + X.e12345*Y.e125 + X.e125*Y.e12345 + X.e134*Y.e1 + X.e1345*Y.e15 + X.e15*Y.e1345 + X.e2*Y.e234 + X.e234*Y.e2 + X.e2345*Y.e25 + X.e25*Y.e2345 - X.e345*Y.e5 - X.e5*Y.e345, X.e1*Y.e135 - X.e12*Y.e1235 + X.e12345*Y.e124 - X.e1235*Y.e12 + X.e124*Y.e12345 + X.e1345*Y.e14 + X.e135*Y.e1 + X.e14*Y.e1345 + X.e2*Y.e235 + X.e2345*Y.e24 + X.e235*Y.e2 + X.e24*Y.e2345 - X.e345*Y.e4 - X.e4*Y.e345, X.e1*Y.e145 - X.e12*Y.e1245 - X.e123*Y.e12345 - X.e12345*Y.e123 - X.e1245*Y.e12 - X.e13*Y.e1345 - X.e1345*Y.e13 + X.e145*Y.e1 + X.e2*Y.e245 - X.e23*Y.e2345 - X.e2345*Y.e23 + X.e245*Y.e2 + X.e3*Y.e345 + X.e345*Y.e3, X.e1234*Y.e4 + X.e12345*Y.e45 - X.e1235*Y.e5 - X.e4*Y.e1234 + X.e45*Y.e12345 + X.e5*Y.e1235, -X.e1234*Y.e3 - X.e12345*Y.e35 - X.e1245*Y.e5 + X.e3*Y.e1234 - X.e35*Y.e12345 + X.e5*Y.e1245, -X.e12345*Y.e34 - X.e1235*Y.e3 - X.e1245*Y.e4 + X.e3*Y.e1235 - X.e34*Y.e12345 + X.e4*Y.e1245, X.e1234*Y.e2 + X.e12345*Y.e25 - X.e1345*Y.e5 - X.e2*Y.e1234 + X.e25*Y.e12345 + X.e5*Y.e1345, X.e12345*Y.e24 + X.e1235*Y.e2 - X.e1345*Y.e4 - X.e2*Y.e1235 + X.e24*Y.e12345 + X.e4*Y.e1345, -X.e12345*Y.e23 + X.e1245*Y.e2 + X.e1345*Y.e3 - X.e2*Y.e1245 - X.e23*Y.e12345 - X.e3*Y.e1345, X.e1*Y.e1234 - X.e1234*Y.e1 - X.e12345*Y.e15 - X.e15*Y.e12345 - X.e2345*Y.e5 + X.e5*Y.e2345, X.e1*Y.e1235 - X.e12345*Y.e14 - X.e1235*Y.e1 - X.e14*Y.e12345 - X.e2345*Y.e4 + X.e4*Y.e2345, X.e1*Y.e1245 + X.e12345*Y.e13 - X.e1245*Y.e1 + X.e13*Y.e12345 + X.e2345*Y.e3 - X.e3*Y.e2345, X.e1*Y.e1345 - X.e12*Y.e12345 - X.e12345*Y.e12 - X.e1345*Y.e1 + X.e2*Y.e2345 - X.e2345*Y.e2, -X.e12345*Y.e5 - X.e5*Y.e12345, -X.e12345*Y.e4 - X.e4*Y.e12345, X.e12345*Y.e3 + X.e3*Y.e12345, -X.e12345*Y.e2 - X.e2*Y.e12345, X.e1*Y.e12345 + X.e12345*Y.e1, 0.0);\n}\n\nCGA3 lcontract(CGA3 X, CGA3 Y){\n    return CGA3(X.e1*Y.e1 - X.e12*Y.e12 - X.e123*Y.e123 + X.e1234*Y.e1234 - X.e12345*Y.e12345 - X.e1235*Y.e1235 - X.e124*Y.e124 - X.e1245*Y.e1245 + X.e125*Y.e125 - X.e13*Y.e13 - X.e134*Y.e134 - X.e1345*Y.e1345 + X.e135*Y.e135 - X.e14*Y.e14 + X.e145*Y.e145 + X.e15*Y.e15 + X.e2*Y.e2 - X.e23*Y.e23 - X.e234*Y.e234 - X.e2345*Y.e2345 + X.e235*Y.e235 - X.e24*Y.e24 + X.e245*Y.e245 + X.e25*Y.e25 + X.e3*Y.e3 - X.e34*Y.e34 + X.e345*Y.e345 + X.e35*Y.e35 + X.e4*Y.e4 + X.e45*Y.e45 - X.e5*Y.e5 + X.scalar*Y.scalar, -X.e2*Y.e12 - X.e23*Y.e123 + X.e234*Y.e1234 - X.e2345*Y.e12345 - X.e235*Y.e1235 - X.e24*Y.e124 - X.e245*Y.e1245 + X.e25*Y.e125 - X.e3*Y.e13 - X.e34*Y.e134 - X.e345*Y.e1345 + X.e35*Y.e135 - X.e4*Y.e14 + X.e45*Y.e145 + X.e5*Y.e15 + X.scalar*Y.e1, X.e1*Y.e12 + X.e13*Y.e123 - X.e134*Y.e1234 + X.e1345*Y.e12345 + X.e135*Y.e1235 + X.e14*Y.e124 + X.e145*Y.e1245 - X.e15*Y.e125 - X.e3*Y.e23 - X.e34*Y.e234 - X.e345*Y.e2345 + X.e35*Y.e235 - X.e4*Y.e24 + X.e45*Y.e245 + X.e5*Y.e25 + X.scalar*Y.e2, X.e1*Y.e13 - X.e12*Y.e123 + X.e124*Y.e1234 - X.e1245*Y.e12345 - X.e125*Y.e1235 + X.e14*Y.e134 + X.e145*Y.e1345 - X.e15*Y.e135 + X.e2*Y.e23 + X.e24*Y.e234 + X.e245*Y.e2345 - X.e25*Y.e235 - X.e4*Y.e34 + X.e45*Y.e345 + X.e5*Y.e35 + X.scalar*Y.e3, X.e1*Y.e14 - X.e12*Y.e124 - X.e123*Y.e1234 + X.e1235*Y.e12345 - X.e125*Y.e1245 - X.e13*Y.e134 - X.e135*Y.e1345 - X.e15*Y.e145 + X.e2*Y.e24 - X.e23*Y.e234 - X.e235*Y.e2345 - X.e25*Y.e245 + X.e3*Y.e34 - X.e35*Y.e345 + X.e5*Y.e45 + X.scalar*Y.e4, X.e1*Y.e15 - X.e12*Y.e125 - X.e123*Y.e1235 + X.e1234*Y.e12345 - X.e124*Y.e1245 - X.e13*Y.e135 - X.e134*Y.e1345 - X.e14*Y.e145 + X.e2*Y.e25 - X.e23*Y.e235 - X.e234*Y.e2345 - X.e24*Y.e245 + X.e3*Y.e35 - X.e34*Y.e345 + X.e4*Y.e45 + X.scalar*Y.e5, X.e3*Y.e123 - X.e34*Y.e1234 + X.e345*Y.e12345 + X.e35*Y.e1235 + X.e4*Y.e124 + X.e45*Y.e1245 - X.e5*Y.e125 + X.scalar*Y.e12, -X.e2*Y.e123 + X.e24*Y.e1234 - X.e245*Y.e12345 - X.e25*Y.e1235 + X.e4*Y.e134 + X.e45*Y.e1345 - X.e5*Y.e135 + X.scalar*Y.e13, -X.e2*Y.e124 - X.e23*Y.e1234 + X.e235*Y.e12345 - X.e25*Y.e1245 - X.e3*Y.e134 - X.e35*Y.e1345 - X.e5*Y.e145 + X.scalar*Y.e14, -X.e2*Y.e125 - X.e23*Y.e1235 + X.e234*Y.e12345 - X.e24*Y.e1245 - X.e3*Y.e135 - X.e34*Y.e1345 - X.e4*Y.e145 + X.scalar*Y.e15, X.e1*Y.e123 - X.e14*Y.e1234 + X.e145*Y.e12345 + X.e15*Y.e1235 + X.e4*Y.e234 + X.e45*Y.e2345 - X.e5*Y.e235 + X.scalar*Y.e23, X.e1*Y.e124 + X.e13*Y.e1234 - X.e135*Y.e12345 + X.e15*Y.e1245 - X.e3*Y.e234 - X.e35*Y.e2345 - X.e5*Y.e245 + X.scalar*Y.e24, X.e1*Y.e125 + X.e13*Y.e1235 - X.e134*Y.e12345 + X.e14*Y.e1245 - X.e3*Y.e235 - X.e34*Y.e2345 - X.e4*Y.e245 + X.scalar*Y.e25, X.e1*Y.e134 - X.e12*Y.e1234 + X.e125*Y.e12345 + X.e15*Y.e1345 + X.e2*Y.e234 + X.e25*Y.e2345 - X.e5*Y.e345 + X.scalar*Y.e34, X.e1*Y.e135 - X.e12*Y.e1235 + X.e124*Y.e12345 + X.e14*Y.e1345 + X.e2*Y.e235 + X.e24*Y.e2345 - X.e4*Y.e345 + X.scalar*Y.e35, X.e1*Y.e145 - X.e12*Y.e1245 - X.e123*Y.e12345 - X.e13*Y.e1345 + X.e2*Y.e245 - X.e23*Y.e2345 + X.e3*Y.e345 + X.scalar*Y.e45, -X.e4*Y.e1234 + X.e45*Y.e12345 + X.e5*Y.e1235 + X.scalar*Y.e123, X.e3*Y.e1234 - X.e35*Y.e12345 + X.e5*Y.e1245 + X.scalar*Y.e124, X.e3*Y.e1235 - X.e34*Y.e12345 + X.e4*Y.e1245 + X.scalar*Y.e125, -X.e2*Y.e1234 + X.e25*Y.e12345 + X.e5*Y.e1345 + X.scalar*Y.e134, -X.e2*Y.e1235 + X.e24*Y.e12345 + X.e4*Y.e1345 + X.scalar*Y.e135, -X.e2*Y.e1245 - X.e23*Y.e12345 - X.e3*Y.e1345 + X.scalar*Y.e145, X.e1*Y.e1234 - X.e15*Y.e12345 + X.e5*Y.e2345 + X.scalar*Y.e234, X.e1*Y.e1235 - X.e14*Y.e12345 + X.e4*Y.e2345 + X.scalar*Y.e235, X.e1*Y.e1245 + X.e13*Y.e12345 - X.e3*Y.e2345 + X.scalar*Y.e245, X.e1*Y.e1345 - X.e12*Y.e12345 + X.e2*Y.e2345 + X.scalar*Y.e345, -X.e5*Y.e12345 + X.scalar*Y.e1234, -X.e4*Y.e12345 + X.scalar*Y.e1235, X.e3*Y.e12345 + X.scalar*Y.e1245, -X.e2*Y.e12345 + X.scalar*Y.e1345, X.e1*Y.e12345 + X.scalar*Y.e2345, X.scalar*Y.e12345);\n}\n\nCGA3 outer(CGA3 X, CGA3 Y){\n    return CGA3(X.scalar*Y.scalar, X.e1*Y.scalar + X.scalar*Y.e1, X.e2*Y.scalar + X.scalar*Y.e2, X.e3*Y.scalar + X.scalar*Y.e3, X.e4*Y.scalar + X.scalar*Y.e4, X.e5*Y.scalar + X.scalar*Y.e5, X.e1*Y.e2 + X.e12*Y.scalar - X.e2*Y.e1 + X.scalar*Y.e12, X.e1*Y.e3 + X.e13*Y.scalar - X.e3*Y.e1 + X.scalar*Y.e13, X.e1*Y.e4 + X.e14*Y.scalar - X.e4*Y.e1 + X.scalar*Y.e14, X.e1*Y.e5 + X.e15*Y.scalar - X.e5*Y.e1 + X.scalar*Y.e15, X.e2*Y.e3 + X.e23*Y.scalar - X.e3*Y.e2 + X.scalar*Y.e23, X.e2*Y.e4 + X.e24*Y.scalar - X.e4*Y.e2 + X.scalar*Y.e24, X.e2*Y.e5 + X.e25*Y.scalar - X.e5*Y.e2 + X.scalar*Y.e25, X.e3*Y.e4 + X.e34*Y.scalar - X.e4*Y.e3 + X.scalar*Y.e34, X.e3*Y.e5 + X.e35*Y.scalar - X.e5*Y.e3 + X.scalar*Y.e35, X.e4*Y.e5 + X.e45*Y.scalar - X.e5*Y.e4 + X.scalar*Y.e45, X.e1*Y.e23 + X.e12*Y.e3 + X.e123*Y.scalar - X.e13*Y.e2 - X.e2*Y.e13 + X.e23*Y.e1 + X.e3*Y.e12 + X.scalar*Y.e123, X.e1*Y.e24 + X.e12*Y.e4 + X.e124*Y.scalar - X.e14*Y.e2 - X.e2*Y.e14 + X.e24*Y.e1 + X.e4*Y.e12 + X.scalar*Y.e124, X.e1*Y.e25 + X.e12*Y.e5 + X.e125*Y.scalar - X.e15*Y.e2 - X.e2*Y.e15 + X.e25*Y.e1 + X.e5*Y.e12 + X.scalar*Y.e125, X.e1*Y.e34 + X.e13*Y.e4 + X.e134*Y.scalar - X.e14*Y.e3 - X.e3*Y.e14 + X.e34*Y.e1 + X.e4*Y.e13 + X.scalar*Y.e134, X.e1*Y.e35 + X.e13*Y.e5 + X.e135*Y.scalar - X.e15*Y.e3 - X.e3*Y.e15 + X.e35*Y.e1 + X.e5*Y.e13 + X.scalar*Y.e135, X.e1*Y.e45 + X.e14*Y.e5 + X.e145*Y.scalar - X.e15*Y.e4 - X.e4*Y.e15 + X.e45*Y.e1 + X.e5*Y.e14 + X.scalar*Y.e145, X.e2*Y.e34 + X.e23*Y.e4 + X.e234*Y.scalar - X.e24*Y.e3 - X.e3*Y.e24 + X.e34*Y.e2 + X.e4*Y.e23 + X.scalar*Y.e234, X.e2*Y.e35 + X.e23*Y.e5 + X.e235*Y.scalar - X.e25*Y.e3 - X.e3*Y.e25 + X.e35*Y.e2 + X.e5*Y.e23 + X.scalar*Y.e235, X.e2*Y.e45 + X.e24*Y.e5 + X.e245*Y.scalar - X.e25*Y.e4 - X.e4*Y.e25 + X.e45*Y.e2 + X.e5*Y.e24 + X.scalar*Y.e245, X.e3*Y.e45 + X.e34*Y.e5 + X.e345*Y.scalar - X.e35*Y.e4 - X.e4*Y.e35 + X.e45*Y.e3 + X.e5*Y.e34 + X.scalar*Y.e345, X.e1*Y.e234 + X.e12*Y.e34 + X.e123*Y.e4 + X.e1234*Y.scalar - X.e124*Y.e3 - X.e13*Y.e24 + X.e134*Y.e2 + X.e14*Y.e23 - X.e2*Y.e134 + X.e23*Y.e14 - X.e234*Y.e1 - X.e24*Y.e13 + X.e3*Y.e124 + X.e34*Y.e12 - X.e4*Y.e123 + X.scalar*Y.e1234, X.e1*Y.e235 + X.e12*Y.e35 + X.e123*Y.e5 + X.e1235*Y.scalar - X.e125*Y.e3 - X.e13*Y.e25 + X.e135*Y.e2 + X.e15*Y.e23 - X.e2*Y.e135 + X.e23*Y.e15 - X.e235*Y.e1 - X.e25*Y.e13 + X.e3*Y.e125 + X.e35*Y.e12 - X.e5*Y.e123 + X.scalar*Y.e1235, X.e1*Y.e245 + X.e12*Y.e45 + X.e124*Y.e5 + X.e1245*Y.scalar - X.e125*Y.e4 - X.e14*Y.e25 + X.e145*Y.e2 + X.e15*Y.e24 - X.e2*Y.e145 + X.e24*Y.e15 - X.e245*Y.e1 - X.e25*Y.e14 + X.e4*Y.e125 + X.e45*Y.e12 - X.e5*Y.e124 + X.scalar*Y.e1245, X.e1*Y.e345 + X.e13*Y.e45 + X.e134*Y.e5 + X.e1345*Y.scalar - X.e135*Y.e4 - X.e14*Y.e35 + X.e145*Y.e3 + X.e15*Y.e34 - X.e3*Y.e145 + X.e34*Y.e15 - X.e345*Y.e1 - X.e35*Y.e14 + X.e4*Y.e135 + X.e45*Y.e13 - X.e5*Y.e134 + X.scalar*Y.e1345, X.e2*Y.e345 + X.e23*Y.e45 + X.e234*Y.e5 + X.e2345*Y.scalar - X.e235*Y.e4 - X.e24*Y.e35 + X.e245*Y.e3 + X.e25*Y.e34 - X.e3*Y.e245 + X.e34*Y.e25 - X.e345*Y.e2 - X.e35*Y.e24 + X.e4*Y.e235 + X.e45*Y.e23 - X.e5*Y.e234 + X.scalar*Y.e2345, X.e1*Y.e2345 + X.e12*Y.e345 + X.e123*Y.e45 + X.e1234*Y.e5 + X.e12345*Y.scalar - X.e1235*Y.e4 - X.e124*Y.e35 + X.e1245*Y.e3 + X.e125*Y.e34 - X.e13*Y.e245 + X.e134*Y.e25 - X.e1345*Y.e2 - X.e135*Y.e24 + X.e14*Y.e235 + X.e145*Y.e23 - X.e15*Y.e234 - X.e2*Y.e1345 + X.e23*Y.e145 - X.e234*Y.e15 + X.e2345*Y.e1 + X.e235*Y.e14 - X.e24*Y.e135 - X.e245*Y.e13 + X.e25*Y.e134 + X.e3*Y.e1245 + X.e34*Y.e125 + X.e345*Y.e12 - X.e35*Y.e124 - X.e4*Y.e1235 + X.e45*Y.e123 + X.e5*Y.e1234 + X.scalar*Y.e12345);\n}\n\n#define I_CGA3 CGA3(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0)\n\nCGA3 rcontract(CGA3 X, CGA3 Y){\n    return CGA3(X.e1*Y.e1 - X.e12*Y.e12 - X.e123*Y.e123 + X.e1234*Y.e1234 - X.e12345*Y.e12345 - X.e1235*Y.e1235 - X.e124*Y.e124 - X.e1245*Y.e1245 + X.e125*Y.e125 - X.e13*Y.e13 - X.e134*Y.e134 - X.e1345*Y.e1345 + X.e135*Y.e135 - X.e14*Y.e14 + X.e145*Y.e145 + X.e15*Y.e15 + X.e2*Y.e2 - X.e23*Y.e23 - X.e234*Y.e234 - X.e2345*Y.e2345 + X.e235*Y.e235 - X.e24*Y.e24 + X.e245*Y.e245 + X.e25*Y.e25 + X.e3*Y.e3 - X.e34*Y.e34 + X.e345*Y.e345 + X.e35*Y.e35 + X.e4*Y.e4 + X.e45*Y.e45 - X.e5*Y.e5 + X.scalar*Y.scalar, X.e1*Y.scalar + X.e12*Y.e2 - X.e123*Y.e23 - X.e1234*Y.e234 - X.e12345*Y.e2345 + X.e1235*Y.e235 - X.e124*Y.e24 + X.e1245*Y.e245 + X.e125*Y.e25 + X.e13*Y.e3 - X.e134*Y.e34 + X.e1345*Y.e345 + X.e135*Y.e35 + X.e14*Y.e4 + X.e145*Y.e45 - X.e15*Y.e5, -X.e12*Y.e1 + X.e123*Y.e13 + X.e1234*Y.e134 + X.e12345*Y.e1345 - X.e1235*Y.e135 + X.e124*Y.e14 - X.e1245*Y.e145 - X.e125*Y.e15 + X.e2*Y.scalar + X.e23*Y.e3 - X.e234*Y.e34 + X.e2345*Y.e345 + X.e235*Y.e35 + X.e24*Y.e4 + X.e245*Y.e45 - X.e25*Y.e5, -X.e123*Y.e12 - X.e1234*Y.e124 - X.e12345*Y.e1245 + X.e1235*Y.e125 - X.e13*Y.e1 + X.e134*Y.e14 - X.e1345*Y.e145 - X.e135*Y.e15 - X.e23*Y.e2 + X.e234*Y.e24 - X.e2345*Y.e245 - X.e235*Y.e25 + X.e3*Y.scalar + X.e34*Y.e4 + X.e345*Y.e45 - X.e35*Y.e5, X.e1234*Y.e123 + X.e12345*Y.e1235 - X.e124*Y.e12 + X.e1245*Y.e125 - X.e134*Y.e13 + X.e1345*Y.e135 - X.e14*Y.e1 - X.e145*Y.e15 - X.e234*Y.e23 + X.e2345*Y.e235 - X.e24*Y.e2 - X.e245*Y.e25 - X.e34*Y.e3 - X.e345*Y.e35 + X.e4*Y.scalar - X.e45*Y.e5, X.e12345*Y.e1234 + X.e1235*Y.e123 + X.e1245*Y.e124 - X.e125*Y.e12 + X.e1345*Y.e134 - X.e135*Y.e13 - X.e145*Y.e14 - X.e15*Y.e1 + X.e2345*Y.e234 - X.e235*Y.e23 - X.e245*Y.e24 - X.e25*Y.e2 - X.e345*Y.e34 - X.e35*Y.e3 - X.e45*Y.e4 + X.e5*Y.scalar, X.e12*Y.scalar + X.e123*Y.e3 - X.e1234*Y.e34 + X.e12345*Y.e345 + X.e1235*Y.e35 + X.e124*Y.e4 + X.e1245*Y.e45 - X.e125*Y.e5, -X.e123*Y.e2 + X.e1234*Y.e24 - X.e12345*Y.e245 - X.e1235*Y.e25 + X.e13*Y.scalar + X.e134*Y.e4 + X.e1345*Y.e45 - X.e135*Y.e5, -X.e1234*Y.e23 + X.e12345*Y.e235 - X.e124*Y.e2 - X.e1245*Y.e25 - X.e134*Y.e3 - X.e1345*Y.e35 + X.e14*Y.scalar - X.e145*Y.e5, X.e12345*Y.e234 - X.e1235*Y.e23 - X.e1245*Y.e24 - X.e125*Y.e2 - X.e1345*Y.e34 - X.e135*Y.e3 - X.e145*Y.e4 + X.e15*Y.scalar, X.e123*Y.e1 - X.e1234*Y.e14 + X.e12345*Y.e145 + X.e1235*Y.e15 + X.e23*Y.scalar + X.e234*Y.e4 + X.e2345*Y.e45 - X.e235*Y.e5, X.e1234*Y.e13 - X.e12345*Y.e135 + X.e124*Y.e1 + X.e1245*Y.e15 - X.e234*Y.e3 - X.e2345*Y.e35 + X.e24*Y.scalar - X.e245*Y.e5, -X.e12345*Y.e134 + X.e1235*Y.e13 + X.e1245*Y.e14 + X.e125*Y.e1 - X.e2345*Y.e34 - X.e235*Y.e3 - X.e245*Y.e4 + X.e25*Y.scalar, -X.e1234*Y.e12 + X.e12345*Y.e125 + X.e134*Y.e1 + X.e1345*Y.e15 + X.e234*Y.e2 + X.e2345*Y.e25 + X.e34*Y.scalar - X.e345*Y.e5, X.e12345*Y.e124 - X.e1235*Y.e12 + X.e1345*Y.e14 + X.e135*Y.e1 + X.e2345*Y.e24 + X.e235*Y.e2 - X.e345*Y.e4 + X.e35*Y.scalar, -X.e12345*Y.e123 - X.e1245*Y.e12 - X.e1345*Y.e13 + X.e145*Y.e1 - X.e2345*Y.e23 + X.e245*Y.e2 + X.e345*Y.e3 + X.e45*Y.scalar, X.e123*Y.scalar + X.e1234*Y.e4 + X.e12345*Y.e45 - X.e1235*Y.e5, -X.e1234*Y.e3 - X.e12345*Y.e35 + X.e124*Y.scalar - X.e1245*Y.e5, -X.e12345*Y.e34 - X.e1235*Y.e3 - X.e1245*Y.e4 + X.e125*Y.scalar, X.e1234*Y.e2 + X.e12345*Y.e25 + X.e134*Y.scalar - X.e1345*Y.e5, X.e12345*Y.e24 + X.e1235*Y.e2 - X.e1345*Y.e4 + X.e135*Y.scalar, -X.e12345*Y.e23 + X.e1245*Y.e2 + X.e1345*Y.e3 + X.e145*Y.scalar, -X.e1234*Y.e1 - X.e12345*Y.e15 + X.e234*Y.scalar - X.e2345*Y.e5, -X.e12345*Y.e14 - X.e1235*Y.e1 - X.e2345*Y.e4 + X.e235*Y.scalar, X.e12345*Y.e13 - X.e1245*Y.e1 + X.e2345*Y.e3 + X.e245*Y.scalar, -X.e12345*Y.e12 - X.e1345*Y.e1 - X.e2345*Y.e2 + X.e345*Y.scalar, X.e1234*Y.scalar - X.e12345*Y.e5, -X.e12345*Y.e4 + X.e1235*Y.scalar, X.e12345*Y.e3 + X.e1245*Y.scalar, -X.e12345*Y.e2 + X.e1345*Y.scalar, X.e12345*Y.e1 + X.e2345*Y.scalar, X.e12345*Y.scalar);\n}\n\nCGA3 reverse(CGA3 X){\n    return CGA3(X.scalar, X.e1, X.e2, X.e3, X.e4, X.e5, -X.e12, -X.e13, -X.e14, -X.e15, -X.e23, -X.e24, -X.e25, -X.e34, -X.e35, -X.e45, -X.e123, -X.e124, -X.e125, -X.e134, -X.e135, -X.e145, -X.e234, -X.e235, -X.e245, -X.e345, X.e1234, X.e1235, X.e1245, X.e1345, X.e2345, X.e12345);\n}\n\nCGA3 conjugate(CGA3 X){\n    return reverse(involve(X));\n}\n\nCGA3 outer(CGA3 X, CGA3 Y, CGA3 Z){\n    return outer(outer(X, Y), Z);\n}\n\nCGA3 invert(CGA3 X){\n    return mul(1.0/lcontract(X,conjugate(X)).scalar, conjugate(X));\n}\n\nCGA3 div(CGA3 X, CGA3 Y){\n    return mul(X, invert(Y));\n}\n\nCGA3 dual(CGA3 X){\n    return div(X, I_CGA3);\n}\n\n// H.glsl\nconst int Idx_H_real = 0;\nconst int Idx_H_i = 1;\nconst int Idx_H_j = 2;\nconst int Idx_H_k = 3;\n\nstruct H {\n    float real;\n    float i;\n    float j;\n    float k;\n};\n\nH fromArray(float X[4]){\n    return H(X[0], X[1], X[2], X[3]);\n}\n\nvoid toArray(H X, inout float X_ary[4]){\n    X_ary[0] = X.real;\n    X_ary[1] = X.i;\n    X_ary[2] = X.j;\n    X_ary[3] = X.k;\n}\n\nvoid zero(inout float X[4]){\n    X[0] = 0.0;\n    X[1] = 0.0;\n    X[2] = 0.0;\n    X[3] = 0.0;\n}\n\nH add(H X, H Y){\n    return H(X.real + Y.real, X.i + Y.i, X.j + Y.j, X.k + Y.k);\n}\n\nH add(H X, H Y, H Z){\n    return add(add(X, Y), Z);\n}\n\nH add(H X, H Y, H Z, H P){\n    return add(add(add(X, Y), Z), P);\n}\n\n#define ONE_H H(1.0, 0.0, 0.0, 0.0)\n\nH mul(float a, H X){\n    return H(X.real*a, X.i*a, X.j*a, X.k*a);\n}\n\nH sub(H X, H Y){\n    return H(X.real - Y.real, X.i - Y.i, X.j - Y.j, X.k - Y.k);\n}\n\n#define ZERO_H H(0.0, 0.0, 0.0, 0.0)\n\nH mul(int a, H X){\n    return mul(float(a), X);\n}\n\nH mul(H X, H Y){\n    return H(-X.i*Y.i - X.j*Y.j - X.k*Y.k + X.real*Y.real, X.i*Y.real + X.j*Y.k - X.k*Y.j + X.real*Y.i, -X.i*Y.k + X.j*Y.real + X.k*Y.i + X.real*Y.j, X.i*Y.j - X.j*Y.i + X.k*Y.real + X.real*Y.k);\n}\n\nH scalar_H(float a){\n    return mul(a, ONE_H);\n}\n\nH mul(H X, H Y, H Z){\n    return mul(mul(X, Y), Z);\n}\n\nH involve(H X){\n    return H(X.real, -X.i, -X.j, X.k);\n}\n\nH inner(H X, H Y){\n    return H(-X.i*Y.i - X.j*Y.j - X.k*Y.k, X.j*Y.k - X.k*Y.j, -X.i*Y.k + X.k*Y.i, 0.0);\n}\n\nH lcontract(H X, H Y){\n    return H(-X.i*Y.i - X.j*Y.j - X.k*Y.k + X.real*Y.real, X.j*Y.k + X.real*Y.i, -X.i*Y.k + X.real*Y.j, X.real*Y.k);\n}\n\nH outer(H X, H Y){\n    return H(X.real*Y.real, X.i*Y.real + X.real*Y.i, X.j*Y.real + X.real*Y.j, X.i*Y.j - X.j*Y.i + X.k*Y.real + X.real*Y.k);\n}\n\n#define I_H H(0.0, 0.0, 0.0, 1.0)\n\nH rcontract(H X, H Y){\n    return H(-X.i*Y.i - X.j*Y.j - X.k*Y.k + X.real*Y.real, X.i*Y.real - X.k*Y.j, X.j*Y.real + X.k*Y.i, X.k*Y.real);\n}\n\nH reverse(H X){\n    return H(X.real, X.i, X.j, -X.k);\n}\n\nH conjugate(H X){\n    return reverse(involve(X));\n}\n\nH outer(H X, H Y, H Z){\n    return outer(outer(X, Y), Z);\n}\n\nH invert(H X){\n    return mul(1.0/lcontract(X,conjugate(X)).real, conjugate(X));\n}\n\nH div(H X, H Y){\n    return mul(X, invert(Y));\n}\n\nH dual(H X){\n    return div(X, I_H);\n}\n\nCGA3 vecToCGA(vec3 v){\n    CGA3 X = ZERO_CGA3;\n    X.e1 = v.x;\n    X.e2 = v.y;\n    X.e3 = v.z;\n    return X;\n}\n\nCGA3 vecToCGA(vec4 v){\n    CGA3 X = ZERO_CGA3;\n    X.scalar = v.x;\n    X.e1 = v.y;\n    X.e2 = v.z;\n    X.e3 = v.w;\n    return X;\n}\n\nCGA3 weightVecToCGA(vec3 v){\n    CGA3 X = ZERO_CGA3;\n    X.e12 = -v.x;\n    X.e23 = v.y;\n    X.e13 = -v.z;\n    return X;\n}\n\nCGA3 weightVecToCGA(vec4 v){\n    CGA3 X = ZERO_CGA3;\n    X.scalar = v.x;\n    X.e23 = -v.y;\n    X.e13 = v.z;\n    X.e12 = -v.w;\n    return X;\n}\n\nvoid toVec(out vec3 x, CGA3 X) {\n    x = vec3(X.e1, X.e2, X.e3);\n}\n\nH vecToH(vec3 v){\n    H X = ZERO_H;\n    X.real = 1.0;\n    X.i = v.x;\n    X.j = v.y;\n    X.k = v.z;\n    return X;\n}\n\nH vecToH(vec4 v){\n    H X = ZERO_H;\n    X.real = v.x;\n    X.i = v.y;\n    X.j = v.z;\n    X.k = v.w;\n    return X;\n}\n\nvoid toVec(H X, inout vec4 x) {\n    x.x = X.real;\n    x.y = X.i;\n    x.z = X.j;\n    x.w = X.k;\n}\n\n// CGA3 point(vec3 x){\n//     return point(vecToCGA(x));\n// }\n\n// vec3 vecFromPoint(CGA3 x) {\n//     x = point_coords(x);\n//     return vec3(x.e1, x.e2, x.e3);\n// }\n\nCGA3 outer(CGA3 p, CGA3 q, CGA3 r, CGA3 s){\n    return outer(outer(p,q,r),s);\n}\n\nCGA3 mul(CGA3 p, CGA3 q, CGA3 r, CGA3 s){\n    return mul(mul(p,q,r),s);\n}\n\n// replace this stuff with IPNS sphere stuff\n// CGA3 sphere(vec3 a, vec3 b, vec3 c, vec3 d) {\n//     return outer(point(a), point(b), point(c), point(d));\n// }\n\n// vec3 sphere_center(vec3 a, vec3 b, vec3 c, vec3 d){\n//     CGA3 sphere = sphere(a,b,c,d);\n//     return vecFromPoint(mul(sphere, INF(), sphere));\n// }\n\n// vec3 reflect_glsl(vec3 x, CGA3 R){\n//     return vecFromPoint(mul(R,point(x),R));\n// }\n\n// float sphere_radius(vec3 a, vec3 b, vec3 c, vec3 d){\n//     CGA2 circ = sphere(a,b,c,d);\n//     return circle_radius(circ);\n// }\n\n// CGA3 dual_sphere(vec3 x){\n//     float y[3];\n//     y[0] = x[0];\n//     y[1] = x[1];\n//     y[2] = x[2];\n//     return dual_sphere(injectOneBlade(zero(), y));\n// }\n\nH fromVec(vec4 w) {\n  return vecToH(w);\n}\n\nH fromVec(vec3 w) {\n  return vecToH(w);\n}\n\nH weight(vec3 w) {\n  return fromVec(w);\n  // return invert(fromVec(normalize(w)));\n}\n\nH weight(vec4 w) {\n  return fromVec(w);\n  // return invert(fromVec(normalize(w)));\n}\n\nH weight(H w) {\n  return w;\n  // return invert(mul(sqrt(lcontract(w, w).real), w));\n}\n\nstruct Patch {\n  vec4 vertex;\n  vec3 normal;\n};\n\nfloat eps = 0.01;\n\nPatch bilinearQuad(H point0, H point1, H point2, H point3, H weight0, H weight1, H weight2, H weight3, float u, float v) {\n  H W0 = mul((1.0 - u) * (1.0 - v), weight0); // 0, 0\n  H W1 = mul(u * (1.0 - v), weight1); // 1, 0\n  H W2 = mul((1.0 - u) * v, weight2); // 0, 1\n  H W3 = mul(u * v, weight3); // 1, 1\n\n  H top = add(mul(point0, W0), mul(point1, W1), mul(point2, W2), mul(point3, W3));\n\n  float uu = u + eps;\n  H W0_uu = mul((1.0 - uu) * (1.0 - v), weight0); // 0, 0\n  H W1_uu = mul((uu) * (1.0 - v), weight1); // 1, 0\n  H W2_uu = mul((1.0 - uu) * v, weight2); // 0, 1\n  H W3_uu = mul((uu) * v, weight3); // 1, 1\n  H top_uu = add(mul(point0, W0_uu), mul(point1, W1_uu), mul(point2, W2_uu), mul(point3, W3_uu));\n\n  float vv = v + eps;\n  H W0_vv = mul((1.0 - u) * (1.0 - vv), weight0); // 0, 0\n  H W1_vv = mul(u * (1.0 - vv), weight1); // 1, 0\n  H W2_vv = mul((1.0 - u) * (vv), weight2); // 0, 1\n  H W3_vv = mul(u * (vv), weight3); // 1, 1\n\n  H top_vv = add(mul(point0, W0_vv), mul(point1, W1_vv), mul(point2, W2_vv), mul(point3, W3_vv));\n\n  H bottom = add(W0, W1, W2, W3);\n\n  H X = div(top, bottom);\n  H X_uu = div(top_uu, bottom);\n  H X_vv = div(top_vv, bottom);\n  vec4 x = vec4(X.i, X.j, X.k, X.real);\n  vec3 x_uu = vec3(X_uu.i, X_uu.j, X_uu.k) - x.xyz;\n  vec3 x_vv = vec3(X_vv.i, X_vv.j, X_vv.k) - x.xyz;\n  vec3 crossed = cross(x_uu, x_vv);\n  vec3 normal = normalize(crossed);\n  return Patch(x, normal);\n}\n\nPatch bilinearQuad(vec3 p0, vec3 p1, vec3 p2, vec3 p3, vec4 w0, vec4 w1, vec4 w2, vec4 w3, float u, float v) {\n  return bilinearQuad(fromVec(p0), fromVec(p1), fromVec(p2), fromVec(p3), weight(w0), weight(w1), weight(w2), weight(w3), u, v);\n}\n\nPatch bilinearQuad(vec3 p0, vec3 p1, vec3 p2, vec3 p3, vec3 w0, vec3 w1, vec3 w2, vec3 w3, float u, float v) {\n  return bilinearQuad(fromVec(p0), fromVec(p1), fromVec(p2), fromVec(p3), weight(w0), weight(w1), weight(w2), weight(w3), u, v);\n}\n\nPatch bilinearQuad(vec3 p0, vec3 p1, vec3 p2, vec3 p3, H w0, H w1, H w2, H w3, float u, float v) {\n  return bilinearQuad(fromVec(p0), fromVec(p1), fromVec(p2), fromVec(p3), weight(w0), weight(w1), weight(w2), weight(w3), u, v);\n}\n\nPatch bilinearTri(H point0, H point1, H point2, H weight0, H weight1, H weight2, float u, float v) {\n  H W0 = mul((1.0 - u - v), weight0); // 0, 0\n  H W1 = mul(u, weight1); // 1, 0\n  H W2 = mul(v, weight2); // 0, 1\n\n  H top = add(mul(point0, W0), mul(point1, W1), mul(point2, W2));\n\n  float uu = u + eps;\n  H W0_uu = mul((1.0 - uu - v), weight0); // 0, 0\n  H W1_uu = mul(uu, weight1); // 1, 0\n  H W2_uu = mul(v, weight2); // 0, 1\n  H top_uu = add(mul(point0, W0_uu), mul(point1, W1_uu), mul(point2, W2_uu));\n\n  float vv = v + eps;\n  H W0_vv = mul((1.0 - u - vv), weight0); // 0, 0\n  H W1_vv = mul(u, weight1); // 1, 0\n  H W2_vv = mul(vv, weight2); // 0, 1\n\n  H top_vv = add(mul(point0, W0_vv), mul(point1, W1_vv), mul(point2, W2_vv));\n\n  H bottom = add(W0, W1, W2);\n\n  H X = div(top, bottom);\n  H X_uu = div(top_uu, bottom);\n  H X_vv = div(top_vv, bottom);\n  vec4 x = vec4(X.i, X.j, X.k, X.real);\n  vec3 x_uu = vec3(X_uu.i, X_uu.j, X_uu.k) - x.xyz;\n  vec3 x_vv = vec3(X_vv.i, X_vv.j, X_vv.k) - x.xyz;\n  vec3 crossed = cross(x_uu, x_vv);\n  vec3 normal = normalize(crossed);\n  return Patch(x, normal);\n}\n\nPatch bilinearTri(vec4 p0, vec4 p1, vec4 p2, vec4 w0, vec4 w1, vec4 w2, float u, float v) {\n  return bilinearTri(fromVec(p0), fromVec(p1), fromVec(p2), weight(w0), weight(w1), weight(w2), u, v);\n}\n\nPatch bilinearTri(vec3 p0, vec3 p1, vec3 p2, vec3 w0, vec3 w1, vec3 w2, float u, float v) {\n  return bilinearTri(fromVec(p0), fromVec(p1), fromVec(p2), weight(w0), weight(w1), weight(w2), u, v);\n}\n\nPatch bilinearTri(vec3 p0, vec3 p1, vec3 p2, H w0, H w1, H w2, float u, float v) {\n  return bilinearTri(fromVec(p0), fromVec(p1), fromVec(p2), weight(w0), weight(w1), weight(w2), u, v);\n}\nlayout(location = 0) in vec3 position;\nlayout(location = 1) in mat3x4 points;\nlayout(location = 4) in mat3x4 weights;\n\nuniform mat4 projection, view;\nuniform vec3 offset;\n\nout vec3 n;\nout vec2 uv;\nout vec4 eye;\n\nvoid main() {\n\n  Patch p = bilinearTri(points[0], points[1], points[2], weights[0], weights[1],\n                        weights[2], position.x, position.y);\n\n  n = p.normal;\n  uv = vec2(position.x, position.y);\n  gl_Position = projection * view * vec4(p.vertex.xyz, 1.0);\n  eye = view * vec4(1,0,0,0);\n  // gl_Position = vec4(position, 1.0);\n}"; // eslint-disable-lin